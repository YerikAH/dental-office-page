import smile_perfect from "./smile_perfect.jpg";
import smile_bad from "./smile_bad.jpg";
import { useEffect, useRef, useState } from "react";
import useWidth from "./useWidth";
function App() {
  const ref = useRef(null);
  const heigth = useRef(null)
  const [position, setPosition] = useState(0);
  const [allHei, setAllHei] = useState(0)
  const { windowWidth } = useWidth(720)
  const [idx, setIdx] = useState(0)
  function drop() {
    console.log("drop");
  }
  function dragEnter(e) {
    e.preventDefault();
    console.log("drag Enter ");
  }
  function dragStart() {
    console.log("drag start");
  }
  function dragOver(e) {
    e.preventDefault();
    console.log(e.clientX)
    setIdx(idx + 1)
    setPosition(e.clientX);
    if()

  }
  function onLoad(){
    setAllHei(heigth.current.clientHeight)
  }
  useEffect(() => {
    if (ref.current) {
      ref.current.addEventListener("dragstart", dragStart);
      ref.current.addEventListener("drop", drop);
      ref.current.addEventListener("dragover", dragOver);
      ref.current.addEventListener("dragenter", dragEnter);
    }
    return () => {
      if (ref.current) {
        // eslint-disable-next-line react-hooks/exhaustive-deps
        ref.current.removeEventListener("dragstart", dragStart);
        ref.current.removeEventListener("drop", drop);
        ref.current.removeEventListener("dragover", dragOver);
        ref.current.removeEventListener("dragenter", dragEnter);
      }
    };
  }, []);

  useEffect(() =>{
    
    if(heigth){
      setAllHei(heigth.current.clientHeight)
    }
  },[windowWidth,heigth])

  useEffect(() =>{
    const center = heigth.current.clientWidth / 2
    console.log( windowWidth ,center )
    const centerLess = center / 2
    setPosition(center)
  },[windowWidth,heigth])
  return (
    <section>
      <div className="contain" ref={ref}>
   
        <img src={smile_perfect} alt="good" className="good" ref={heigth} onLoad={onLoad}/>
  
        <div
          draggable
          // style={{ width: `${position}px` }}
          className="contain__switch"
        >
          <div className="drag" style={{height: `${allHei}px`}}>
            <div>Drag</div>
          </div>
          <img src={smile_bad} alt="bad"  className="bad"  style={{height: `${allHei}px`}}/>

        </div>
      </div>

    </section>
  );
}

export default App;


Se esta usando el hook useWidth